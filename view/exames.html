<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exames - PetHosp</title>
    <link rel="stylesheet" href="../CSS/prescricao.css" />
    <style>
      .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      .full-width {
        grid-column: 1 / -1;
      }
      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .form-group label {
        font-weight: bold;
        color: #333;
      }
      .form-group input,
      .form-group textarea,
      .form-group select {
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-family: inherit;
      }
      .historico-list {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .exame-card {
        background: #f9f9f9;
        padding: 1rem;
        border-left: 4px solid #0f766e;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }
      .exame-header {
        display: flex;
        justify-content: space-between;
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: #555;
        border-bottom: 1px solid #eee;
        padding-bottom: 0.5rem;
      }
      .exame-desc {
        white-space: pre-wrap;
        color: #333;
        line-height: 1.5;
      }
      .atendimento-mini-header {
        display: flex;
        gap: 2rem;
        margin-bottom: 1.5rem;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid #ddd;
        border-radius: 8px;
      }
      .info-item {
        display: flex;
        flex-direction: column;
      }
      .info-item .label {
        font-size: 0.8rem;
        color: #666;
      }
      .info-item .value {
        font-weight: bold;
        color: #0f766e;
      }
    </style>
  </head>

  <body>
    <main class="login-card card">
      <aside class="sidebar">
        <h3>Servi√ßos</h3>
        <ul id="listaServicos">
          <li onclick="window.location.href='home.html'">Dashboard</li>
          <li onclick="window.location.href='agenda.html'">Agenda</li>
          <li onclick="window.location.href='recepcao.html'">Recep√ß√£o</li>
          <li onclick="window.location.href='tutores.html'">Tutores</li>
          <li onclick="window.location.href='animais.html'">Animais</li>
          <li onclick="window.location.href='internacao.html'">Interna√ß√£o</li>
          <li onclick="window.location.href='vacinas.html'">Vacinas</li>
        </ul>
      </aside>

      <section class="content-area">
        <button id="menuBtn" class="menu-btn" aria-label="Abrir menu">‚ò∞</button>
        <div id="conteudoServico" role="tabpanel">
          <article id="view-exames">
            <h2>Solicita√ß√£o de Exames</h2>

            <!-- Cabe√ßalho do Paciente (Dados do Atendimento) -->
            <div class="atendimento-header">
              <div
                class="header-main"
                style="flex-direction: row; align-items: center; gap: 1rem"
              >
                <div
                  style="
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    overflow: hidden;
                    background-color: #f0f0f0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border: 2px solid #ddd;
                    flex-shrink: 0;
                  "
                >
                  <img
                    id="headerAnimalFoto"
                    src=""
                    alt="Foto"
                    style="
                      width: 100%;
                      height: 100%;
                      object-fit: cover;
                      display: none;
                    "
                  />
                  <span
                    id="headerAnimalFotoPlaceholder"
                    style="font-size: 2rem; color: #ccc"
                    >üêæ</span
                  >
                </div>
                <div style="display: flex; flex-direction: column">
                  <h2 id="headerAnimalNome" class="animal-highlight">
                    Nome do Animal
                  </h2>
                  <span id="headerAnimalIdade" class="animal-age"
                    >Idade: --</span
                  >
                </div>
              </div>

              <div class="header-info-grid">
                <div class="info-item">
                  <span class="label">Tutor</span>
                  <span class="value" id="headerTutor">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Tel.</span>
                  <span class="value" id="headerTelefone">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Ra√ßa</span>
                  <span class="value" id="headerRaca">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Sexo</span>
                  <span class="value" id="headerSexo">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Porte</span>
                  <span class="value" id="headerPorte">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Reprod.</span>
                  <span class="value" id="headerReprodutiva">--</span>
                </div>
                <div class="info-item">
                  <span class="label">Peso</span>
                  <span class="value"><span id="headerPeso">--</span> kg</span>
                </div>
                <div class="info-item">
                  <span class="label">Temp.</span>
                  <span class="value"><span id="headerTemp">--</span> ¬∞C</span>
                </div>
                <div class="info-item alert-item">
                  <span class="label">Alergias</span>
                  <span class="value" id="headerAlergias">--</span>
                </div>
              </div>
            </div>

            <form id="formExame">
              <div class="form-grid">
                <div class="form-group">
                  <label for="tipoExame">Tipo de Exame</label>
                  <select id="tipoExame" required>
                    <option value="">Selecione...</option>
                    <option value="Hemograma Completo">
                      Hemograma Completo
                    </option>
                    <option value="Bioqu√≠mico">Bioqu√≠mico</option>
                    <option value="Raio-X">Raio-X</option>
                    <option value="Ultrassom">Ultrassom</option>
                    <option value="Urin√°lise">Urin√°lise</option>
                    <option value="Coprocultura">Coprocultura</option>
                    <option value="Outro">Outro</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="prioridadeExame">Prioridade</label>
                  <select id="prioridadeExame" required>
                    <option value="Rotina">Rotina</option>
                    <option value="Urgente">Urgente</option>
                  </select>
                </div>
                <div class="form-group full-width">
                  <label for="indicacaoClinica"
                    >Indica√ß√£o Cl√≠nica / Suspeita</label
                  >
                  <textarea
                    id="indicacaoClinica"
                    rows="3"
                    required
                    placeholder="Motivo da solicita√ß√£o..."
                  ></textarea>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                Solicitar Exame
              </button>
            </form>

            <hr class="divider" style="margin: 2rem 0" />
            <h3>Exames Solicitados</h3>
            <div id="listaExames" class="historico-list"></div>

            <button
              class="btn btn-secondary"
              onclick="history.back()"
              style="margin-top: 2rem"
            >
              Voltar
            </button>
          </article>
        </div>
      </section>
    </main>

    <button id="logoutBtn" class="btn-btn-logout">Sair</button>

    <script src="../JS/session-auth.js"></script>
    <script src="../JS/shared.js"></script>
    <script src="../JS/exames.js"></script>
  </body>
</html>
